# TaskCases
Automatic download of the register from all csv files for 2025.

–¶–µ–π –ø—Ä–æ—î–∫—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î, —Ä–æ–∑–ø–∞–∫–æ–≤—É—î —Ç–∞ –æ–±—Ä–æ–±–ª—è—î –∞—Ä—Ö—ñ–≤–∏ —Å—Ç–∞–Ω—É —Ä–æ–∑–≥–ª—è–¥—É —Å–ø—Ä–∞–≤ –∑ —Å–∞–π—Ç—É [https://dsa.court.gov.ua](https://dsa.court.gov.ua) –∑–∞ 2025 —Ä—ñ–∫. –î–∞–Ω—ñ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è —É –Ω–æ—Ä–º–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ–π SQLite –±–∞–∑—ñ, –∞ —Ç–∞–∫–æ–∂ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ –ø–æ—à—É–∫ —Å–ø—Ä–∞–≤ –∑–∞ –Ω–æ–º–µ—Ä–æ–º –∑ —Ñ–∞–π–ª—É.


---

## ‚úÖ –†–µ–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ –∫—Ä–æ–∫–∏

### –ö–†–û–ö 1. –ü–æ—á–∞—Ç–∫–æ–≤–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ—î–∫—Ç—É + requirements.txt

- –ü—ñ–¥–≥–æ—Ç—É–≤–∞—Ç–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ–π
- –°—Ç–≤–æ—Ä–∏—Ç–∏ requirements.txt –∑ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∞–º–∏
- –°—Ñ–æ—Ä–º—É–≤–∞—Ç–∏ —à–∞–±–ª–æ–Ω –¥–ª—è –º–∞–π–±—É—Ç–Ω—å–æ–≥–æ —ñ–º–ø–æ—Ä—Ç—É, –æ–±—Ä–æ–±–∫–∏ –∞—Ä—Ö—ñ–≤—ñ–≤ —Ç–∞ CSV

### –ö–†–û–ö 2. –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è .zip –ª–∏—à–µ –∑–∞ 2025

- –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∞—Ä—Ö—ñ–≤—ñ–≤ —ñ–∑ [https://dsa.court.gov.ua/dsa/inshe/oddata/532](https://dsa.court.gov.ua/dsa/inshe/oddata/532) –∑ —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—î—é –∑–∞ `download` (–º–∞—î –º—ñ—Å—Ç–∏—Ç–∏ "2025").
- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è –∑ –æ–±–º–µ–∂–µ–Ω–Ω—è–º –æ–¥–Ω–æ—á–∞—Å–Ω–∏—Ö –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω—å (`semaphore`).
- –ü–æ–º–∏–ª–∫–∏ —Ç–∏–ø—É `ClientPayloadError` –æ–±—Ä–æ–±–ª—è—é—Ç—å—Å—è –∑ –ø–æ–≤—Ç–æ—Ä–Ω–∏–º–∏ —Å–ø—Ä–æ–±–∞–º–∏ (–¥–æ 3 —Ä–∞–∑—ñ–≤).
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è `aiohttp`, `tqdm.asyncio`, `BeautifulSoup`.

### –ö–†–û–ö 3. –†–æ–∑–ø–∞–∫—É–≤–∞–Ω–Ω—è ZIP —Ç–∞ –æ–±—Ä–æ–±–∫–∞ CSV

- ZIP-—Ñ–∞–π–ª–∏ —Ä–æ–∑–ø–∞–∫–æ–≤—É—é—Ç—å—Å—è —É –ø–∞–ø–∫—É `data/csv/`.
- –ü—ñ–¥—Ç—Ä–∏–º—É—î—Ç—å—Å—è —Ç—ñ–ª—å–∫–∏ `.csv`, —ñ–Ω—à—ñ —Ñ–æ—Ä–º–∞—Ç–∏ —ñ–≥–Ω–æ—Ä—É—é—Ç—å—Å—è.
- –ö–æ–¥—É–≤–∞–Ω–Ω—è —Ñ–∞–π–ª—ñ–≤ ‚Äî `utf-8`, —Ä–æ–∑–¥—ñ–ª—å–Ω–∏–∫ ‚Äî `\t` (—Ç–∞–±—É–ª—è—Ü—ñ—è).
- –ê—Ä—Ö—ñ–≤ —Ç–∞ .csv –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤–∏–¥–∞–ª—è—é—Ç—å—Å—è –ø—ñ—Å–ª—è —ñ–º–ø–æ—Ä—Ç—É.

### –ö–†–û–ö 4. –Ü–º–ø–æ—Ä—Ç —É SQLite

- –ß–∏—Ç–∞—é—Ç—å—Å—è –ø–æ–ª—è: `case_number`, `plaintiff`, `defendant`, `registration_date`, `court_name`, `stage_name`.
- –ü—Ä–æ–ø—É—Å–∫–∞—é—Ç—å—Å—è –ø–æ–≤–Ω—ñ—Å—Ç—é –ø–æ—Ä–æ–∂–Ω—ñ —Ä—è–¥–∫–∏.
- –ü—ñ–¥—Ç—Ä–∏–º—É—î—Ç—å—Å—è `registration_date` —É —Ñ–æ—Ä–º–∞—Ç—ñ `DD.MM.YYYY`.
- –£–Ω–∏–∫–Ω–µ–Ω–Ω—è –¥—É–±–ª—ñ–≤: —á–µ—Ä–µ–∑ `.get()` + –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ + `session.rollback()` –ø—Ä–∏ `IntegrityError`.

### –ö–†–û–ö 5. –í–∏–¥–∞–ª–µ–Ω–Ω—è —Ñ–∞–π–ª—ñ–≤ –ø—ñ—Å–ª—è –æ–±—Ä–æ–±–∫–∏

- –ü—ñ—Å–ª—è –æ–±—Ä–æ–±–∫–∏:
  - –í–∏–¥–∞–ª—è—î—Ç—å—Å—è ZIP-—Ñ–∞–π–ª.
  - –í–∏–¥–∞–ª—è—î—Ç—å—Å—è –∫–æ–∂–µ–Ω –æ–±—Ä–æ–±–ª–µ–Ω–∏–π `.csv` —Ñ–∞–π–ª.
- –ë–µ–∑–ø–µ—á–Ω–µ –≤–∏–¥–∞–ª–µ–Ω–Ω—è (`try...except` –ø—Ä–∏ `os.remove()`).

### –ö–†–û–ö 6. –ù–æ—Ä–º–∞–ª—ñ–∑–∞—Ü—ñ—è –ë–î

- 3 –ø–æ–≤–Ω–æ—Ü—ñ–Ω–Ω—ñ —Ç–∞–±–ª–∏—Ü—ñ –∑ –≤—ñ–¥–Ω–æ—à–µ–Ω–Ω—è–º–∏:
  - `courts(id, name)`
  - `stages(id, name)`
  - `cases(id, case_number, ..., court_id, stage_id)`
- SQLAlchemy ORM –∑—ñ –∑–≤‚Äô—è–∑–∫–∞–º–∏ `relationship(back_populates=...)`
- –¢–∞–±–ª–∏—Ü—ñ —Å—Ç–≤–æ—Ä—é—é—Ç—å—Å—è –ø—Ä–∏ –∑–∞–ø—É—Å–∫—É `main.py` —á–µ—Ä–µ–∑ `Base.metadata.create_all()`.

### –ö–†–û–ö 7. –ü–æ—à—É–∫ –ø–æ "case_number"

- –°–∫—Ä–∏–ø—Ç `run_search.py` –¥–æ–∑–≤–æ–ª—è—î –≤–∏–±—Ä–∞—Ç–∏ `.csv` —Ñ–∞–π–ª –∑ –ø–∞–ø–∫–∏ `search_input/`.
- –ü–æ–ª–µ `case_number` –±–µ—Ä–µ—Ç—å—Å—è –∑ —Ñ–∞–π–ª—É, –æ–±—Ä–æ–±–ª—è—î—Ç—å—Å—è –ø–∞–∫–µ—Ç–∞–º–∏ –ø–æ 900 –∑–∞–ø–∏—Å—ñ–≤.
- –ü–æ—à—É–∫ —É —Ç–∞–±–ª–∏—Ü—ñ `cases` –∑ –ø—ñ–¥–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è–º –ø–æ–≤'—è–∑–∞–Ω–∏—Ö `court`, `stage` (`selectinload`).
- –í–∏–≤–æ–¥—è—Ç—å—Å—è –ø–µ—Ä—à—ñ 10 –∑–±—ñ–≥—ñ–≤ (–Ω–æ–º–µ—Ä, —Å—É–¥, —Å—Ç–∞–¥—ñ—è).
- CSV –º–∞—î –±—É—Ç–∏ –∑ —Ä–æ–∑–¥—ñ–ª—å–Ω–∏–∫–æ–º `\t`.

---

## üöÄ –ó–∞–ø—É—Å–∫

1. **–°—Ç–≤–æ—Ä–∏—Ç–∏ –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–µ —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ, —Ç–∞ –∞–∫—Ç–∏–≤—É–≤–∞—Ç–∏ –π–æ–≥–æ:**

```bash
   python -m venv .venv

–ù–∞ Windows:
.venv\Scripts\activate.bat

–ù–∞ Linux:
source .venv/bin/activate

```

2. **–í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ:**

```bash
   pip install -r requirements.txt
```

3. **–ó–∞–ø—É—Å—Ç–∏—Ç–∏ —á–µ—Ä–µ–∑ —Ç–æ—á–∫—É –≤—Ö–æ–¥—É:**

```bash
   python main.py
```

–¶–µ:

–°—Ç–≤–æ—Ä–∏—Ç—å SQLite –±–∞–∑—É cases.db

–ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç—å –≤—Å—ñ .zip —Ñ–∞–π–ª–∏ –∑–∞ 2025 —Ä—ñ–∫

–û–±—Ä–æ–±–∏—Ç—å –≤—Å—ñ .csv, —ñ–º–ø–æ—Ä—Ç—É—î –¥–∞–Ω—ñ –≤ –ë–î

4. **–ü–æ—à—É–∫ –∑–∞ CSV-—Ñ–∞–π–ª–æ–º:**

–ü–æ–º—ñ—Å—Ç—ñ—Ç—å (–Ω–∞–∑–≤–∞ —Ñ–∞–π–ª—É).csv –∑ case_number —É –ø–∞–ø–∫—É search_input/, –ø–æ—Ç—ñ–º –ø—Ä–æ–≥—Ä–∞–º–∞ –≤–∞–º –∑–∞–ø—Ä–æ–ø–æ–Ω—É—î –≤–∞—Ä—ñ–∞–Ω—Ç –æ–±—Ä–∞—Ç–∏ —Ü–µ–π —Ñ–∞–π–ª –∞–±–æ –≤–ø–∏—Å–∞—Ç–∏ –π–æ–≥–æ –≤ —Ä—É—á–Ω—É:
```bash
   python run_search.py
```

‚ö†Ô∏è –ü—Ä–∏–º—ñ—Ç–∫–∏

–õ–∏—à–µ —Ñ–∞–π–ª–∏ –∑–∞ 2025 —Ä—ñ–∫ –æ–±—Ä–æ–±–ª—è—é—Ç—å—Å—è.

–í—Å—ñ CSV –º–∞—é—Ç—å –±—É—Ç–∏ —É —Ñ–æ—Ä–º–∞—Ç—ñ –∑ —Ç–∞–±—É–ª—è—Ü—ñ—î—é (\t).

–ë–∞–∑–∞ –¥–∞–Ω–∏—Ö cases.db –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è –ª–æ–∫–∞–ª—å–Ω–æ –≤ –∫–æ—Ä–µ–Ω—ñ –ø—Ä–æ—î–∫—Ç—É.

–í—Å—ñ –ø–æ–º–∏–ª–∫–∏ –ª–æ–≥—É—é—Ç—å—Å—è –∑ –∫–æ–º–µ–Ω—Ç–∞—Ä—è–º–∏ (‚ùå, ‚ö†Ô∏è).
